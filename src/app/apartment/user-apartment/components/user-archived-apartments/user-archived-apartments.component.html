<app-user-tabs></app-user-tabs>
<section class="background-body pt-25 pb-35">
  <div class="container">
    <div class="d-flex align-items-center my-2">
    <button mat-flat-button color="primary" routerLink="/apartments/user">Back<mat-icon
      style="margin-top: 1px;">arrow_back_2</mat-icon></button>
      <!-- <a routerLink="/home" class="archivedApartments"></a> -->
    </div>
    <div class="row">
      @for(apartment of data.data; track apartment) {
      <div class="col-4 text-dark my-3">
        <mat-card [matBadge]="apartment.currentBookings" matBadgeColor="warn" matBadgeHidden="{{!apartment.currentBookings}}">
          <mat-card-header>
            <mat-card-title-group>
              <mat-card-title>{{apartment.name}}</mat-card-title>
              <mat-card-subtitle class="cardSubtitle mt-5">

                <!-- <p class="city-text">{{apartment.city}}</p> -->
                <p>City: <strong>{{apartment.city}}</strong></p>
                <p>Type: <strong>{{apartment.apartmentType}}</strong></p>
                <!-- <p>Guests: {{apartment.maxGuests}}</p> -->
                <p class="price"><strong>{{apartment.pricePerNight}}</strong>$ / night</p>

              </mat-card-subtitle>
              <img mat-card-lg-image [src]="apartment.mainImage.fileName | imageUrl: imageType.ApartmentMain" alt="{{apartment.name}}">
            </mat-card-title-group>
          </mat-card-header>
          <mat-card-content>

          </mat-card-content>
          <mat-card-actions class="d-flex justify-content-around mt-35 mb-2">
            <button mat-flat-button class="delete-btn" color="warn" [disabled]="apartment.currentBookings > 0" (click)="deleteApartment(apartment.id)">DELETE</button>

            <button mat-flat-button class="activate-btn" (click)="activateApartment(apartment.id)">ACTIVATE</button>
          </mat-card-actions>
        </mat-card>
      </div>
      }
      @empty {
        <div class="empty-state">
        <h5 class="text-light mt-5">You donâ€™t have any archived apartments.</h5>
        </div>
      }
    </div>
    <app-paginator [data]="data" (pageChange)="onPageChange($event)"></app-paginator>
    <!-- <p class="ms-3" style="color: grey;">Total Apartments: {{apartments?.totalCount}}</p> -->


  </div>


</section>